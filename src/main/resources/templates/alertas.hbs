{{#partial "head"}}
    <link rel="stylesheet" href="/styles/alertas.css">
{{/partial}}

{{#partial "contenido"}}
    <div class="d-flex justify-content-center align-items-center pt-3">
        <h1 class="h2">Alertas</h1>
    </div>
    <div class="d-flex justify-content-center align-items-center flex-grow-1 pb-5">
        <div class="row justify-content-center w-100">
            <div class="col-md-10">
                <h4>Mis Alertas</h4>
                <p>Aquí podrás observar las distintas alertas de las heladeras</p>
                {{#each alertas}}
                    <div class="alerta-item">
                        <div class="title" onclick="toggleAlerta(this)">{{this.tipo}} {{this.fechaYHora}}</div>

                        <p style="display:none;">{{this.nombreHeladera}}</p>
                        <p style="display:none;">{{this.ubicacionHeladera}}</p>
                    </div>
                {{/each}}
            </div>


            <div class="pagination">
                {{#each paginas}}
                    <a href="/alertas?page={{this.numero}}&size=2" class="{{this.clase}}">{{this.numero}}</a>
                {{/each}}
            </div>
        </div>
    </div>


    <script>
        document.getElementById('menuBtn').addEventListener('click', function () {
            document.getElementById('sidebar').classList.toggle('active');
        });

        function toggleAlerta(element) {
            let sibling = element.nextElementSibling;
            while (sibling) {
                if (sibling.tagName === "P") {
                    sibling.style.display = (sibling.style.display === 'none' || sibling.style.display === '') ? 'block' : 'none';
                }
                sibling = sibling.nextElementSibling;
            }
        }

    </script>

{{/partial}}
{{> templates/base title="Alertas - NutreVidas"}}

